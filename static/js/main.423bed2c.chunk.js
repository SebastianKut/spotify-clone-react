(this["webpackJsonpspotify-clone"]=this["webpackJsonpspotify-clone"]||[]).push([[0],{70:function(e,t,a){},71:function(e,t,a){},72:function(e,t,a){},73:function(e,t,a){},74:function(e,t,a){},75:function(e,t,a){},81:function(e,t,a){},82:function(e,t,a){},83:function(e,t,a){},84:function(e,t,a){},85:function(e,t,a){},87:function(e,t,a){},88:function(e,t,a){},89:function(e,t,a){"use strict";a.r(t);var c=a(0),s=a(1),n=a.n(s),l=a(25),r=a.n(l),o=(a(70),a(71),a(72),a(37)),i=a.n(o),j="".concat("https://accounts.spotify.com/authorize","?client_id=").concat("caf7a20385aa400c9826fd4f4abb7384","&redirect_uri=").concat("http://localhost:3000","&scope=").concat(["user-read-currently-playing","user-read-recently-played","user-read-playback-state","user-top-read","user-modify-playback-state"].join("%20"),"&response_type=token&show_dialog=true"),d=new i.a;var b=function(){return Object(c.jsxs)("div",{className:"login",children:[Object(c.jsx)("img",{src:"https://getheavy.com/wp-content/uploads/2019/12/spotify2019-830x350.jpg",alt:"logo"}),Object(c.jsx)("a",{href:j,children:"LOGIN TO SPOTIFY"})]})},u=(a(73),a(74),a(75),function(e,t){return e.length>t?e.substr(0,t-1)+"...":e}),_=a(4),O=a(15),m=Object(s.createContext)(),p=function(e){var t=e.reducer,a=e.initialState,n=e.children,l=Object(s.useReducer)(t,a),r=Object(O.a)(l,2),o=r[0],i=r[1];return Object(c.jsx)(m.Provider,{value:Object(_.a)(Object(_.a)({},o),{},{dispatch:i,handlePlayback:function(e){e?(d.pause().then((function(){console.log("stoped")})).catch((function(e){return console.log(e.message)})),i({type:"SET_PLAYING_STATUS",payload:!1})):(d.play().then((function(){console.log("started")})).catch((function(e){return console.log(e.message)})),i({type:"SET_PLAYING_STATUS",payload:!0}))},displayPlaylist:function(e){i({type:"SET_PLAYLIST_ID",payload:e})}}),children:n})},h=function(){return Object(s.useContext)(m)};var f=function(e){var t=e.title,a=e.Icon,s=e.playlistId,n=h().displayPlaylist,l=u;return Object(c.jsxs)("div",{className:a?"sidebarOption":"sidebarOption playlistElement",children:[a&&Object(c.jsx)(a,{className:"sidebarOption__icon"}),a?Object(c.jsx)("h4",{children:t}):Object(c.jsx)("p",{onClick:function(){return n(s)},children:l(t,30)})]})},y=a(38),x=a.n(y),N=a(28),S=a.n(N),g=a(43),T=a.n(g),v=a(44),E=a.n(v),k=a(45),w=a.n(k);var L=function(){var e=h().playlists;return Object(c.jsxs)("div",{className:"sidebar",children:[Object(c.jsx)("img",{className:"sidebar__logo",src:"https://getheavy.com/wp-content/uploads/2019/12/spotify2019-830x350.jpg",alt:""}),Object(c.jsx)(f,{Icon:x.a,title:"Home"}),Object(c.jsx)(f,{Icon:S.a,title:"Search"}),Object(c.jsx)(f,{Icon:T.a,title:"Your Library"}),Object(c.jsx)("br",{}),Object(c.jsx)("strong",{className:"sidebar__title",children:"PLAYLIST"}),Object(c.jsx)("br",{}),Object(c.jsx)(f,{Icon:E.a,title:"Create Playlist"}),Object(c.jsx)(f,{Icon:w.a,title:"Liked Songs"}),Object(c.jsx)("hr",{}),Object(c.jsx)(f,{title:"Discover Weekly",playlistId:"37i9dQZEVXcX651NVljfsf"},"37i9dQZEVXcX651NVljfsf"),Object(c.jsx)("div",{className:"sidebar__playlists",children:e&&e.map((function(e){var t=e.name,a=e.id;return Object(c.jsx)(f,{title:t,playlistId:a},a)}))})]})},A=(a(81),a(82),a(30)),I=a.n(A),P=a(29),U=a.n(P),C=a(46),R=a.n(C),Y=a(104);var G=function(e){var t,a=e.solid,s=e.playlistName,n=e.showTitle,l=h(),r=l.user,o=l.is_playing,i=l.handlePlayback,j=l.dispatch,d=l.submenu_show;return Object(c.jsxs)("div",{className:"header ".concat(a&&"solid"),children:[Object(c.jsxs)("div",{className:"header__left",children:[Object(c.jsxs)("div",{className:"search__bar",children:[Object(c.jsx)(S.a,{}),Object(c.jsx)("input",{type:"text",placeholder:"Search"})]}),Object(c.jsxs)("div",{className:"title__bar ".concat(n&&"visible"),children:[o?Object(c.jsx)(U.a,{onClick:function(){return i(o)}}):Object(c.jsx)(I.a,{onClick:function(){return i(o)}}),Object(c.jsx)("h2",{children:s})]})]}),Object(c.jsxs)("div",{className:"header__right",onClick:function(){j({type:"SET_SHOW_SUBMENU",payload:!d})},children:[Object(c.jsx)(Y.a,{src:r&&(null===(t=r.images[0])||void 0===t?void 0:t.url),alt:r&&r.display_name}),Object(c.jsx)("h5",{children:r&&r.display_name}),Object(c.jsx)(R.a,{})]})]})};a(83);var M=function(e){var t=e.description,a=e.name,s=e.image,n=e.followers,l=e.owner,r=e.total;return Object(c.jsx)(c.Fragment,{children:Object(c.jsxs)("div",{className:"banner__info",children:[Object(c.jsx)("img",{src:s,alt:""}),Object(c.jsxs)("div",{className:"banner__infoText",children:[Object(c.jsx)("strong",{children:"PLAYLIST"}),Object(c.jsx)("h2",{children:a}),Object(c.jsx)("p",{children:t}),Object(c.jsxs)("p",{children:[Object(c.jsx)("strong",{children:l})," \u2022 ".concat(n||"0"," followers \u2022 ").concat(r," songs")]})]})]})})},F=(a(84),a(51)),D=a.n(F),H=a(31),V=a.n(H),B=a(52),X=a.n(B),q=(a(85),a(47)),W=a.n(q),Q=a(48),Z=a.n(Q),z=a(49),J=a.n(z),K=a(50),$=a.n(K);var ee=function(e){var t=e.track,a=e.number,n=Object(s.useState)(!1),l=Object(O.a)(n,2),r=l[0],o=l[1],i=t.added_at,j=t.track,d=j.artists,b=j.name,u=j.album,_=j.duration_ms,m={image:u.images[0].url,trackName:b,artistsName:d.map((function(e){return e.name})).join(","),albumName:u.name,duration:W()(_,{colonNotation:!0}).split(".")[0],dateAdded:i.substring(0,10)},p=m.image,h=m.trackName,f=m.artistsName,y=m.albumName,x=m.duration,N=m.dateAdded;return Object(c.jsxs)("tr",{className:"tableRow",onMouseEnter:function(){return o(!0)},onMouseLeave:function(){return o(!1)},children:[Object(c.jsx)("div",{className:"table__data filler"}),Object(c.jsx)("td",{className:"table__data number rounded_left",children:r?Object(c.jsx)(Z.a,{className:"playIcon"}):Object(c.jsx)("p",{children:a})}),Object(c.jsxs)("td",{className:"songRow highlight",children:[Object(c.jsx)("img",{src:p,alt:"",className:"songRow__album"}),Object(c.jsxs)("div",{className:"songRow__info",children:[Object(c.jsx)("h2",{children:h}),Object(c.jsx)("p",{children:f})]})]}),Object(c.jsx)("td",{className:"table__data",children:Object(c.jsx)("p",{children:y})}),Object(c.jsx)("td",{className:"table__data table__date",children:Object(c.jsx)("p",{children:N})}),Object(c.jsx)("td",{className:"table__data rounded_right",children:Object(c.jsxs)("span",{children:[Object(c.jsx)(J.a,{className:"heartIcon ".concat(r&&"show")}),Object(c.jsx)($.a,{className:"removeIcon ".concat(r&&"show")}),Object(c.jsx)("p",{children:x}),Object(c.jsx)(V.a,{className:"moreIcon ".concat(r&&"show")})]})}),Object(c.jsx)("div",{className:"table__data filler"})]})};var te=function(e){var t=e.tracksList,a=e.solid,s=h(),n=s.is_playing,l=s.handlePlayback;return Object(c.jsxs)("div",{className:"body__songs",children:[Object(c.jsxs)("div",{className:"body__icons",children:[n?Object(c.jsx)(U.a,{className:"body__shuffle",onClick:function(){return l(n)}}):Object(c.jsx)(I.a,{className:"body__shuffle",onClick:function(){return l(n)}}),Object(c.jsx)(D.a,{fontSize:"large",className:"body__like"}),Object(c.jsx)(V.a,{className:"body__more"})]}),Object(c.jsxs)("table",{children:[Object(c.jsxs)("tr",{className:"table__header ".concat(a&&"solid"),children:[Object(c.jsx)("th",{className:"table__filler__left"}),Object(c.jsx)("th",{className:"table__number",children:"#"}),Object(c.jsx)("th",{className:"table__title",children:"TITLE"}),Object(c.jsx)("th",{className:"table__album",children:"ALBUM"}),Object(c.jsx)("th",{className:"table__date",children:"DATE ADDED"}),Object(c.jsx)("th",{className:"table__time",children:Object(c.jsx)(X.a,{})}),Object(c.jsx)("th",{className:"table__filler__right"})]}),t&&t.map((function(e,t){return Object(c.jsx)(ee,{track:e,number:t+1},t)}))]})]})};a(87);var ae=function(){return Object(c.jsx)("div",{className:"submenu",children:Object(c.jsxs)("ul",{children:[Object(c.jsx)("li",{className:"link",children:"Account"}),Object(c.jsx)("li",{className:"link",children:"Profile"}),Object(c.jsx)("li",{className:"logout link",children:"Log out"})]})})};var ce=function(){var e=Object(s.useState)(!1),t=Object(O.a)(e,2),a=t[0],n=t[1],l=Object(s.useState)(!1),r=Object(O.a)(l,2),o=r[0],i=r[1],j=Object(s.useState)(!1),d=Object(O.a)(j,2),b=d[0],u=d[1],_=h(),m=_.current_playlist,p=_.submenu_show,f=m.description,y=m.name,x=m.image,N=m.tracks,S=m.followers,g=m.owner,T=m.total,v=function(){document.querySelector(".body").scrollTop>160?n(!0):n(!1),document.querySelector(".body").scrollTop>350?u(!0):u(!1),document.querySelector(".table__header").getBoundingClientRect().top<=67?i(!0):i(!1)};return Object(s.useEffect)((function(){return document.querySelector(".body").addEventListener("scroll",v),function(){document.querySelector(".body").removeEventListener("scroll",v)}}),[]),Object(c.jsxs)("div",{className:"body",children:[Object(c.jsx)(G,{solid:a,playlistName:y,showTitle:b}),p&&Object(c.jsx)(ae,{}),Object(c.jsx)(M,{description:f,name:y,image:x,followers:S,owner:g,total:T}),Object(c.jsx)(te,{tracksList:N,solid:o})]})},se=(a(88),a(56)),ne=a.n(se),le=a(54),re=a.n(le),oe=a(57),ie=a.n(oe),je=a(53),de=a.n(je),be=a(58),ue=a.n(be),_e=a(60),Oe=a.n(_e),me=a(55),pe=a.n(me),he=a(59),fe=a.n(he),ye=a(102),xe=a(103);var Ne=function(){var e=h(),t=e.current_playlist,a=e.is_playing,s=e.dispatch,n=e.handlePlayback,l=e.current_song,r=e.shuffle,o=e.repeat,i=t.tracks;return Object(c.jsxs)("div",{className:"footer",children:[Object(c.jsxs)("div",{className:"footer__left",children:[Object(c.jsx)("img",{className:"footer__albumLogo",src:l?l.album.images[0].url:i&&i[0].track.album.images[0].url,alt:"album cover"}),Object(c.jsxs)("div",{className:"footer__songInfo",children:[Object(c.jsx)("h4",{children:l?l.name:i&&i[0].track.name}),Object(c.jsx)("p",{children:l?l.artists[0].name:i&&i[0].track.artists[0].name})]})]}),Object(c.jsxs)("div",{className:"footer__center",children:[Object(c.jsx)(de.a,{className:"footer__icon ".concat(r&&"active"),onClick:function(){s({type:"SET_SHUFFLE_STATUS",payload:!r})}}),Object(c.jsx)(re.a,{className:"footer__icon",onClick:function(){d.getMyCurrentPlayingTrack().then((function(e){s({type:"SET_CURRENT_SONG",payload:e.item}),s({type:"SET_PLAYING_STATUS",payload:!0})})).catch((function(e){return console.log(e.message)}))}}),a?Object(c.jsx)(pe.a,{className:"footer__icon play__icon",onClick:function(){return n(a)}}):Object(c.jsx)(ne.a,{className:"footer__icon play__icon",onClick:function(){return n(a)}}),Object(c.jsx)(ie.a,{className:"footer__icon",onClick:function(){d.getMyCurrentPlayingTrack().then((function(e){s({type:"SET_CURRENT_SONG",payload:e.item}),s({type:"SET_PLAYING_STATUS",payload:!0})})).catch((function(e){return console.log(e.message)}))}}),Object(c.jsx)(ue.a,{className:"footer__icon ".concat(o&&"active"),onClick:function(){s({type:"SET_REPEAT_STATUS",payload:!o})}})]}),Object(c.jsx)("div",{className:"footer__right",children:Object(c.jsxs)(ye.a,{container:!0,spacing:2,children:[Object(c.jsxs)(ye.a,{item:!0,children:[Object(c.jsx)(fe.a,{}),Object(c.jsx)(Oe.a,{})]}),Object(c.jsx)(ye.a,{item:!0,xs:!0,children:Object(c.jsx)(xe.a,{"aria-labelledby":"continuous-slider",className:"volume__control",defaultValue:70})})]})})]})};var Se=function(){var e=h(),t=e.submenu_show,a=e.dispatch,n=e.playlist_id;return Object(s.useEffect)((function(){d.getPlaylist(n).then((function(e){var t=e.description,c=e.name,s=e.images,n=e.tracks,l=e.followers,r=e.owner,o={description:t,name:c,image:s[0].url,tracks:n.items,followers:l.total,owner:r.display_name,total:n.total};a({type:"SET_CURRENT_PLAYLIST",payload:o})})).catch((function(e){return console.log(e)}))}),[n,a]),Object(c.jsxs)("div",{className:"player",onClick:function(e){t&&!e.target.classList.contains("link")&&a({type:"SET_SHOW_SUBMENU",payload:!1})},children:[Object(c.jsxs)("div",{className:"player__body",children:[Object(c.jsx)(L,{}),Object(c.jsx)(ce,{})]}),Object(c.jsx)(Ne,{})]})};var ge=function(){var e=h(),t=e.token,a=e.playlist_id,n=e.dispatch,l=Object(s.useCallback)((function(){var e=window.location.hash.substring(1).split("&").reduce((function(e,t){var a=t.split("=");return e[a[0]]=decodeURIComponent(a[1]),e}),{}).access_token;window.location.hash="",e&&(n({type:"SET_TOKEN",payload:e}),d.setAccessToken(e),d.getMe().then((function(e){n({type:"SET_USER",payload:e})})).catch((function(e){return console.log(e.message)})),d.getUserPlaylists().then((function(e){n({type:"SET_PLAYLISTS",payload:e})})).catch((function(e){return console.log(e.message)})),d.getPlaylist(a).then((function(e){var t=e.description,a=e.name,c=e.images,s=e.tracks,l=e.followers,r=e.owner,o={description:t,name:a,image:c[0].url,tracks:s.items,followers:l.total,owner:r.display_name,total:s.total};n({type:"SET_CURRENT_PLAYLIST",payload:o})})).catch((function(e){return console.log(e.message)})),d.getMyCurrentPlaybackState().then((function(e){n({type:"SET_CURRENT_SONG",payload:e.item}),n({type:"SET_PLAYING_STATUS",payload:e.is_playing}),n({type:"SET_SHUFFLE_STATUS",payload:e.shuffle_state}),n({type:"SET_REPEAT_STATUS",payload:"context"===e.repeat_state||"track"===e.repeat_state})})).catch((function(e){return console.log(e.message)})))}),[n,a]);return Object(s.useEffect)((function(){l()}),[l]),Object(c.jsx)("div",{className:"app",children:t?Object(c.jsx)(Se,{}):Object(c.jsx)(b,{})})},Te=function(e,t){switch(t.type){case"SET_USER":return Object(_.a)(Object(_.a)({},e),{},{user:t.payload});case"SET_TOKEN":return Object(_.a)(Object(_.a)({},e),{},{token:t.payload});case"SET_PLAYLISTS":return Object(_.a)(Object(_.a)({},e),{},{playlists:t.payload.items});case"SET_CURRENT_PLAYLIST":return Object(_.a)(Object(_.a)({},e),{},{current_playlist:t.payload});case"SET_CURRENT_SONG":return Object(_.a)(Object(_.a)({},e),{},{current_song:t.payload});case"SET_PLAYING_STATUS":return Object(_.a)(Object(_.a)({},e),{},{is_playing:t.payload});case"SET_SHUFFLE_STATUS":return Object(_.a)(Object(_.a)({},e),{},{shuffle:t.payload});case"SET_REPEAT_STATUS":return Object(_.a)(Object(_.a)({},e),{},{repeat:t.payload});case"SET_PLAYLIST_ID":return Object(_.a)(Object(_.a)({},e),{},{playlist_id:t.payload});case"SET_SHOW_SUBMENU":return Object(_.a)(Object(_.a)({},e),{},{submenu_show:t.payload});default:return e}};r.a.render(Object(c.jsx)(n.a.StrictMode,{children:Object(c.jsx)(p,{initialState:{user:null,playlists:[],is_playing:!1,current_song:null,repeat:!1,shuffle:!1,token:null,current_playlist:{},playlist_id:"37i9dQZEVXcX651NVljfsf",submenu_show:!1},reducer:Te,children:Object(c.jsx)(ge,{})})}),document.getElementById("root"))}},[[89,1,2]]]);
//# sourceMappingURL=main.423bed2c.chunk.js.map